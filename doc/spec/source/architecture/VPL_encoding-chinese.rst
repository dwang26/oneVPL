.. SPDX-FileCopyrightText: 2019-2020 Intel Corporation
..
.. SPDX-License-Identifier: CC-BY-4.0

============================
视频编码(ENCODE)
============================

ENCODE 类函数将原始帧作为输入，并将其压缩为比特流。

输入帧通常以重复的模式进行编码，称为图像组 (GOP) 序列。例如，GOP 序列可以从 I 帧开始，然后是几个 B 帧、P 帧等等。ENCODE 使用 MPEG-2 样式的 GOP 序列结构，可以指定序列的长度以及两个关键帧（I 帧或 P 帧）之间的距离。GOP 序列可确保比特流的片段不完全相互依赖。它还使解码应用程序能够重新定位比特流。

ENCODE 以两种方式处理输入帧；

* **显示顺序**：ENCODE 按显示顺序接收输入帧。GOP 结构参数在 ENCODE 初始化期间指定 GOP 序列。管道视频处理阶段导致的场景变化可能会改变 GOP 序列。

* **编码顺序**：ENCODE 按编码顺序接收输入帧。应用程序必须指定用于编码的确切输入帧类型。 ENCODE参考 GOP 参数来确定何时将信息（例如序列结束）插入比特流。

ENCODE 输出由一帧的比特流组成，时间戳从输入帧传递而来。时间戳用于将后续视频与其他相关数据（例如音频）复用。|vpl_short_name| 仅提供纯视频流编码。复用的实现，应用程序必须自己完成。

ENCODE 支持以下比特率控制算法：恒定比特率(CBR)、可变比特率 (VBR) 和恒定量化参数 (QP)。在恒定比特率模式下，当压缩程度最低的帧的大小小于满足假设参考解码器 (HRD) 缓冲区要求（或 VBR 要求）所需的大小时，ENCODE 会执行填充。（填充是指将零附加到编码帧末尾）

